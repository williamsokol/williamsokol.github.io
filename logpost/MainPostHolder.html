<!doctype html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/css/openedPost.css" id="style">

    <script src="https://apis.google.com/js/api.js"></script>
    <script type="text/javascript" src="/JsScripts/DriveArticles.js" ></script>

    
  
</head>
<body>
   
    <div>
        <h1 id="title">website in progress!</h1>
        <!--give a little space between tile and content-->
        <br/><br/><br/><br/><br/>
        
        <iframe class="center" id="myFrame" onload="iframeLoaded()" width='50%'  src= ""  frameBorder="0" style="border: 0; ">asd</iframe>

        <!--footer/backbtn-->
        <a href="/Pages/Logs.html" class="Backbtn"> Go Back </a>
    </div>

    <script>
        // little formatting stuff
        function iframeLoaded(){
            var iFrameID = document.getElementById('myFrame');
            if(iFrameID) {
                    // here you can make the height, I delete it first, then I make it again
                    iFrameID.height = "";
                    iFrameID.height = iFrameID.contentWindow.document.body.scrollHeight + "px";
            }   
        }
        // var windowHeight = window.innerWidth*.55>window.innerHeight? window.innerHeight: window.innerWidth*.55
        // document.getElementById("myFrame").height = windowHeight;
        
        const urlSearchParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlSearchParams.entries());
        //console.log(params);

        document.getElementById("title").textContent = params.name ;

    </script>

    <script>

        document.addEventListener('googleLoggedin', function(e){
            fetchHTMLPage(params.id);
        });

        document.addEventListener('loadedArticle', function(e){
            
            const iframe = document.getElementById('myFrame');
            iframe.src = url
        });
    </script>
</body>
</html>